/*
 * QuestionsDb.cpp
 *
 *  Created on: Aug 17, 2022
 *      Author: omarh
 */

#include "QuestionsDb.h"

#include <algorithm>

QuestionsDb::QuestionsDb() {
	// TODO Auto-generated constructor stub

}

QuestionsDb::~QuestionsDb() {
	// TODO Auto-generated destructor stub
}

std::string QuestionsDb::get_path(){
	return path;
}

std::string QuestionsDb::get_delimiter(){
	return del;
}

void QuestionsDb::get_Q_toUser(std::vector<std::string> v, std::map<int, std::vector<Question>>& mp){
	if (!v[TO_ID].empty() && std::all_of(v[TO_ID].begin(), v[TO_ID].end(), ::isdigit) && stoi(v[TO_ID]) == uId)
	{
		update_question_info(v, q);
		if (q.threadId == -1)
			mp[q.id].push_back(q);
		else
		{
			mp[q.id].push_back(q);
			mp[q.threadId].push_back(q);
		}
	}
}
