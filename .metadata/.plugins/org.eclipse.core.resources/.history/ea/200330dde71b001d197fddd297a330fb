/*
 * Loginhandler.cpp
 *
 *  Created on: Aug 11, 2022
 *      Author: omarh
 */

#include "Loginhandler.h"
#include "User.h"
#include "DBmanager.h"

Login_handler::Login_handler() {
	// TODO Auto-generated constructor stub

}

Login_handler::~Login_handler() {
	// TODO Auto-generated destructor stub
}

bool Login_handler::login(User &user)
{
    DbManager DB;
    std::string username, password;
    std::pair<User, bool> userLoginPair;

    std::cout << "Please enter UserName and Password: ";
    std::cin >> username >> password;

    userLoginPair = DB.usersDb.get_user_login(username, password);
    if (userLoginPair.second)
    {
        user = userLoginPair.first;
        return 1;
    }
    return 0;
}
